[{"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Browse.jsx":"1","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketRefinePC.jsx":"2","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketConfig.jsx":"3","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Modal.jsx":"4","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\index.js":"5","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\App.js":"6","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\About.jsx":"7","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Settings.jsx":"8","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\SearchResult.jsx":"9","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\profile.component.js":"10","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\services\\auth-header.js":"11","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Basket.jsx":"12","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\ProductEmpty.jsx":"13","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketLoad.jsx":"14","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\register.component.js":"15","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\NotFound.jsx":"16","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\services\\user.service.js":"17","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketRefineMobile.jsx":"18","E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\services\\auth.service.js":"19"},{"size":10488,"mtime":1613436752395,"results":"20","hashOfConfig":"21"},{"size":3469,"mtime":1615070822969,"results":"22","hashOfConfig":"21"},{"size":8520,"mtime":1615912982690,"results":"23","hashOfConfig":"21"},{"size":3686,"mtime":1615570801941,"results":"24","hashOfConfig":"21"},{"size":279,"mtime":1614894021768,"results":"25","hashOfConfig":"21"},{"size":6205,"mtime":1614905366184,"results":"26","hashOfConfig":"21"},{"size":3150,"mtime":1614734297727,"results":"27","hashOfConfig":"21"},{"size":3116,"mtime":1613702608047,"results":"28","hashOfConfig":"21"},{"size":2973,"mtime":1613402768856,"results":"29","hashOfConfig":"21"},{"size":1716,"mtime":1615249328029,"results":"30","hashOfConfig":"21"},{"size":353,"mtime":1612667663820,"results":"31","hashOfConfig":"21"},{"size":1033,"mtime":1615249295243,"results":"32","hashOfConfig":"21"},{"size":4616,"mtime":1615647290544,"results":"33","hashOfConfig":"21"},{"size":9480,"mtime":1615912978912,"results":"34","hashOfConfig":"21"},{"size":5498,"mtime":1614189497848,"results":"35","hashOfConfig":"21"},{"size":214,"mtime":1612667658794,"results":"36","hashOfConfig":"21"},{"size":287,"mtime":1612667663825,"results":"37","hashOfConfig":"21"},{"size":3957,"mtime":1615854524844,"results":"38","hashOfConfig":"21"},{"size":789,"mtime":1612667663821,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"43"},"o48pke",{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Browse.jsx",["83","84","85","86","87","88","89"],"import React, { Component } from 'react';\r\nimport Product from \"./Product\";\r\nimport $ from 'jquery';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport CircleLoader from \"react-spinners/CircleLoader\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport BrowseRefinePC from \"./BrowseRefinePC\";\r\nimport BrowseRefineMobile from \"./BrowseRefineMobile\";\r\n\r\nclass Browse extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loading: true,\r\n            reloading: false,\r\n            products: [],\r\n            refine: {\r\n                term: \"\",\r\n                shops: {\r\n                    asda : \"1\",\r\n                    coop: \"1\",\r\n                    tesco: \"1\",\r\n                    aldi: \"1\",\r\n                    sains: \"1\"\r\n                },\r\n                orderby: \"1\"\r\n            },\r\n            currentPage: 1,\r\n            productsPerPage: 100,\r\n            upperPageBound: 7,\r\n            lowerPageBound: 0,\r\n            isPrevBtnActive: 'disabled',\r\n            isNextBtnActive: '',\r\n            pageBound: 7\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.btnDecrementClick = this.btnDecrementClick.bind(this);\r\n        this.btnIncrementClick = this.btnIncrementClick.bind(this);\r\n        this.btnNextClick = this.btnNextClick.bind(this);\r\n        this.btnPrevClick = this.btnPrevClick.bind(this);\r\n        this.setPrevAndNextBtnClass = this.setPrevAndNextBtnClass.bind(this);\r\n        this.submitRefiner = this.submitRefiner.bind(this);\r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    }\r\n\r\n\r\n    callAPI(){\r\n        this.setState({reloading: true});\r\n        fetch(\"https://eshopapi.ddns.net/api/browse\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.refine)})\r\n            .then(res=> res.json())\r\n            .then(res => this.setState({ loading:false,reloading:false, products: res }));\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        $(\"ul li.active\").removeClass('active');\r\n        $('ul li#'+this.state.currentPage).addClass('active');\r\n    }\r\n\r\n    handleClick(event) {\r\n        let listid = Number(event.target.id);\r\n        this.setState({\r\n        currentPage: listid\r\n        });\r\n        $(\"ul li.active\").removeClass('active');\r\n        $('ul li#'+listid).addClass('active');\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    setPrevAndNextBtnClass(listid) {\r\n        let totalPage = Math.ceil(this.state.products.length / this.state.productsPerPage);\r\n        this.setState({isNextBtnActive: 'disabled'});\r\n        this.setState({isPrevBtnActive: 'disabled'});\r\n        if(totalPage === listid && totalPage > 1){\r\n            this.setState({isPrevBtnActive: ''});\r\n        }\r\n        else if(listid === 1 && totalPage > 1){\r\n            this.setState({isNextBtnActive: ''});\r\n        }\r\n        else if(totalPage > 1){\r\n            this.setState({isNextBtnActive: ''});\r\n            this.setState({isPrevBtnActive: ''});\r\n        }\r\n    }\r\n    \r\n    btnIncrementClick() {\r\n        this.setState({upperPageBound: this.state.upperPageBound + this.state.pageBound});\r\n        this.setState({lowerPageBound: this.state.lowerPageBound + this.state.pageBound});\r\n        let listid = this.state.upperPageBound + 1;\r\n        this.setState({ currentPage: listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    btnDecrementClick() {\r\n        this.setState({upperPageBound: this.state.upperPageBound - this.state.pageBound});\r\n        this.setState({lowerPageBound: this.state.lowerPageBound - this.state.pageBound});\r\n        let listid = this.state.upperPageBound - this.state.pageBound;\r\n        this.setState({ currentPage: listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    btnPrevClick() {\r\n        if((this.state.currentPage -1)%this.state.pageBound === 0 ){\r\n            this.setState({upperPageBound: this.state.upperPageBound - this.state.pageBound});\r\n            this.setState({lowerPageBound: this.state.lowerPageBound - this.state.pageBound});\r\n        }\r\n        let listid = this.state.currentPage - 1;\r\n        this.setState({ currentPage : listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n    \r\n    btnNextClick() {\r\n        if((this.state.currentPage +1) > this.state.upperPageBound ){\r\n            this.setState({upperPageBound: this.state.upperPageBound + this.state.pageBound});\r\n            this.setState({lowerPageBound: this.state.lowerPageBound + this.state.pageBound});\r\n        }\r\n        let listid = this.state.currentPage + 1;\r\n        this.setState({ currentPage : listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    handleSelect(selectedOption){\r\n        let x = selectedOption.value;\r\n        this.setState({ \r\n            refine: {\r\n                term: this.state.refine.term,\r\n                shops: {\r\n                    asda : this.state.refine.shops.asda,\r\n                    coop: this.state.refine.shops.coop,\r\n                    tesco: this.state.refine.shops.tesco,\r\n                    aldi: this.state.refine.shops.aldi,\r\n                    sains: this.state.refine.shops.sains\r\n                },\r\n                orderby: x\r\n            } \r\n        });\r\n    }\r\n\r\n    submitRefiner(event){\r\n        let form = event.target;\r\n        this.setState({\r\n            refine: {\r\n                term: form[0].value,\r\n                shops: {\r\n                    asda : form[1].checked ? 1 : 0,\r\n                    coop: form[5].checked ? 1 : 0,\r\n                    tesco: form[3].checked ? 1 : 0,\r\n                    aldi: form[2].checked ? 1 : 0,\r\n                    sains: form[4].checked ? 1 : 0\r\n                },\r\n                orderby: this.state.refine.orderby\r\n            },\r\n        }, () =>{\r\n            console.log(this.state)\r\n            this.callAPI();\r\n        });\r\n        event.preventDefault();\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.callAPI();\r\n    }\r\n    \r\n    render() {\r\n        const { products, currentPage, productsPerPage,upperPageBound,lowerPageBound,isPrevBtnActive,isNextBtnActive } = this.state;\r\n        // Logic for displaying current products\r\n        const indexOfLastTodo = currentPage * productsPerPage;\r\n        const indexOfFirstTodo = indexOfLastTodo - productsPerPage;\r\n        const currentproducts = products.slice(indexOfFirstTodo, indexOfLastTodo);\r\n\r\n        \r\n\r\n        const renderproducts = currentproducts.map((product) => {\r\n            return <Product key={product.url} product={product}/>;\r\n        });\r\n\r\n        // Logic for displaying page numbers\r\n        const pageNumbers = [];\r\n        for (let i = 1; i <= Math.ceil(products.length / productsPerPage); i++) {\r\n            pageNumbers.push(i);\r\n        }\r\n\r\n        const renderPageNumbers = pageNumbers.map(number => {\r\n            if(number === 1 && currentPage === 1){\r\n                return(\r\n                    <li key={number} className='page-item active' id={number}><a href='#' className=\"page-link\" onClick={this.handleClick}>{number}</a></li>\r\n                )\r\n            }\r\n            else if((number < upperPageBound + 1) && number > lowerPageBound){\r\n                return(\r\n                    <li key={number} className=\"page-item\"id={number}><a href='#' className=\"page-link\" id={number} onClick={this.handleClick}>{number}</a></li>\r\n                )\r\n            }\r\n        });\r\n\r\n        let pageIncrementBtn = null;\r\n        if(pageNumbers.length > upperPageBound){\r\n            pageIncrementBtn = <li className='page-item'><a href='#' className=\"page-link\" onClick={this.btnIncrementClick}> &hellip; </a></li>\r\n        }\r\n\r\n        let pageDecrementBtn = null;\r\n        if(lowerPageBound >= 1){\r\n            pageDecrementBtn = <li className='page-item'><a href='#' className=\"page-link\" onClick={this.btnDecrementClick}> &hellip; </a></li>\r\n        }\r\n\r\n        let renderPrevBtn = null;\r\n        if(isPrevBtnActive === 'disabled') {\r\n            renderPrevBtn = <li className={isPrevBtnActive}><span id=\"btnPrev\" className=\"page-link disabled\" style={{color: \"grey\"}}> Prev </span></li>\r\n        }\r\n        else{\r\n            renderPrevBtn = <li className={isPrevBtnActive}><a href='#' id=\"btnPrev\" className=\"page-link\" onClick={this.btnPrevClick}> Prev </a></li>\r\n        }\r\n\r\n        let renderNextBtn = null;\r\n        if(isNextBtnActive === 'disabled') {\r\n            renderNextBtn = <li className={isNextBtnActive}><span id=\"btnNext\" className=\"page-link disabled\" style={{color: \"grey\"}}> Next </span></li>\r\n        }\r\n        else{\r\n            renderNextBtn = <li className={isNextBtnActive}><a href='#' id=\"btnNext\" className=\"page-link\" onClick={this.btnNextClick}> Next </a></li>\r\n        }\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.loading}/>\r\n                <p className={this.state.loading ? '': 'hidden'} style={{textAlign: 'center'}}><br/>Loading</p>\r\n                <div className=\"browseProds\">\r\n                    <MediaQuery minWidth={1224}>\r\n                        <BrowseRefinePC loading={this.state.loading} products={this.state.products.length} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth={1224}>\r\n                        <BrowseRefineMobile  loading={this.state.loading} products={this.state.products.length} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <ul className={this.state.loading ? 'hidden': 'xyz'}>\r\n                        <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.reloading}/>\r\n                        <div className={this.state.reloading ? 'hidden': ''}>{renderproducts}</div>\r\n                    </ul>\r\n                </div>\r\n                <ul className={this.state.loading || this.state.reloading ? 'hidden': 'pagination'}>\r\n                    {renderPrevBtn}\r\n                    {pageDecrementBtn}\r\n                    {renderPageNumbers}\r\n                    {pageIncrementBtn}\r\n                    {renderNextBtn}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Browse;",["90","91"],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketRefinePC.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketConfig.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Modal.jsx",["92"],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\index.js",[],["93","94"],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\App.js",[],["95","96"],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\About.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Settings.jsx",[],["97","98"],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\SearchResult.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\profile.component.js",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\services\\auth-header.js",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\Basket.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\ProductEmpty.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketLoad.jsx",["99"],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\register.component.js",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\NotFound.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\services\\user.service.js",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\components\\BasketRefineMobile.jsx",[],"E:\\Documents\\GitHub\\FinalYearProject\\client\\src\\services\\auth.service.js",[],{"ruleId":"100","severity":1,"message":"101","line":182,"column":58,"nodeType":"102","messageId":"103","endLine":182,"endColumn":60},{"ruleId":"104","severity":1,"message":"105","line":185,"column":79,"nodeType":"106","endLine":185,"endColumn":140},{"ruleId":"104","severity":1,"message":"105","line":190,"column":71,"nodeType":"106","endLine":190,"endColumn":144},{"ruleId":"104","severity":1,"message":"105","line":197,"column":58,"nodeType":"106","endLine":197,"endColumn":125},{"ruleId":"104","severity":1,"message":"105","line":202,"column":58,"nodeType":"106","endLine":202,"endColumn":125},{"ruleId":"104","severity":1,"message":"105","line":210,"column":61,"nodeType":"106","endLine":210,"endColumn":136},{"ruleId":"104","severity":1,"message":"105","line":218,"column":61,"nodeType":"106","endLine":218,"endColumn":136},{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","severity":1,"message":"112","line":13,"column":76,"nodeType":"113","messageId":"114","endLine":13,"endColumn":78},{"ruleId":"107","replacedBy":"115"},{"ruleId":"109","replacedBy":"116"},{"ruleId":"107","replacedBy":"117"},{"ruleId":"109","replacedBy":"118"},{"ruleId":"107","replacedBy":"119"},{"ruleId":"109","replacedBy":"120"},{"ruleId":"111","severity":1,"message":"112","line":75,"column":33,"nodeType":"113","messageId":"114","endLine":75,"endColumn":35},"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-native-reassign",["121"],"no-negated-in-lhs",["122"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["121"],["122"],["121"],["122"],["121"],["122"],"no-global-assign","no-unsafe-negation"]